import{a as F,r as d,u as I,j as e,H as L,L as l}from"./app-DM3pBLbR.js";function U({service:i}){const{auth:x}=F().props,f=x?.user?.is_owner,[m,p]=d.useState([]),[o,h]=d.useState(""),[n,u]=d.useState(!1),{data:s,setData:r,patch:w,processing:j,recentlySuccessful:v}=I({label:i.label,heading:i.heading,body:Array.isArray(i.body)?i.body.join(`
`):i.body||"",hero_image:i.hero_image||"",images:Array.isArray(i.images)?[...i.images]:[],newImage:"",uploadFiles:[],hero_file:null}),N=t=>{if(!t)return null;const a=t.split(/[-â€“]/);if(a.length>1){const[c,...S]=a;return e.jsxs(e.Fragment,{children:[e.jsx("strong",{className:"font-semibold text-white",children:c.trim()}),` â€“${S.join("â€“")}`]})}return t},b=d.useMemo(()=>{const t=[...s.images||[]];return o&&t.unshift(o),[...t,...m]},[s.images,m,o]),y=()=>{w(route("service.update",i.slug),{preserveScroll:!0,onSuccess:()=>{u(!1),p([]),h("")},forceFormData:!0})},g=d.useMemo(()=>o||(s.hero_image?s.hero_image:b.length?b[0]:""),[s.hero_image,b,o]),k=()=>{s.newImage.trim()&&(r("images",[...s.images||[],s.newImage.trim()]),r("newImage",""))},_=t=>{t===o&&(h(""),r("hero_file",null)),r("images",(s.images||[]).filter(a=>a!==t&&!t.startsWith("blob:"))),p(a=>a.filter(c=>c!==t)),t.startsWith("blob:")&&r("uploadFiles",[])},A=t=>{if(!t||!t.length)return;const a=Array.from(t);r("uploadFiles",[...s.uploadFiles||[],...a]),p([...m,...a.map(c=>URL.createObjectURL(c))])},C=t=>{if(!t||!t.length)return;const a=t[0];r("hero_file",a),h(URL.createObjectURL(a))};return e.jsxs(e.Fragment,{children:[e.jsx(L,{title:i.label}),e.jsx("div",{className:"min-h-screen bg-[#050505] text-white",children:e.jsxs("div",{className:"mx-auto flex max-w-6xl flex-col px-6 pb-16 md:pb-24",children:[e.jsxs("header",{className:"flex items-center justify-between py-6",children:[e.jsx(l,{href:"/",className:"text-lg font-semibold tracking-tight hover:text-white",children:"Barocco Art"}),e.jsxs("nav",{className:"flex items-center gap-4 text-sm text-white/80 md:gap-8",children:[e.jsx(l,{href:`${route("services")}#celtnieciba`,className:"transition hover:text-white",children:"CeltniecÄ«ba"}),e.jsx(l,{href:`${route("services")}#projektesana`,className:"transition hover:text-white",children:"ProjektÄ“Å¡ana"}),e.jsx(l,{href:`${route("services")}#interjera-dizains`,className:"transition hover:text-white",children:"Interjera dizains"}),e.jsx(l,{href:`${route("services")}#mebeles`,className:"transition hover:text-white",children:"MÄ“beles"}),e.jsx(l,{href:route("contact"),className:"transition hover:text-white",children:"Kontakti"}),!x?.user&&e.jsx(l,{href:route("login"),className:"rounded-full border border-white/30 px-4 py-1.5 text-xs font-semibold uppercase tracking-[0.18em] transition hover:border-white hover:bg-white/10",children:"Owner Login"}),x?.user&&e.jsx(l,{href:route("logout"),method:"post",as:"button",className:"rounded-full border border-white/30 px-4 py-1.5 text-xs font-semibold uppercase tracking-[0.18em] transition hover:border-white hover:bg-white/10",children:"IzrakstÄ«ties"})]})]}),e.jsxs("section",{className:"grid gap-8 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-4 fade-in-up",children:[f&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{type:"button",onClick:()=>u(t=>!t),className:"rounded-full border border-white/30 px-3 py-1.5 text-xs font-semibold uppercase tracking-[0.18em] transition hover:border-white hover:bg-white/10",children:n?"AizvÄ“rt":"RediÄ£Ä“t"}),v&&e.jsx("span",{className:"text-xs text-green-300",children:"SaglabÄts"})]}),e.jsx("p",{className:"text-sm uppercase tracking-[0.2em] text-white/60",children:n?e.jsx("input",{type:"text",value:s.label,onChange:t=>r("label",t.target.value),className:"w-full rounded-2xl border border-white/20 bg-black/40 px-3 py-2 text-white placeholder:text-white/40 focus:border-white focus:ring-2 focus:ring-white/30"}):s.label}),e.jsx("h1",{className:"text-3xl font-semibold md:text-4xl",children:n?e.jsx("input",{type:"text",value:s.heading,onChange:t=>r("heading",t.target.value),className:"w-full rounded-2xl border border-white/20 bg-black/40 px-3 py-2 text-white placeholder:text-white/40 focus:border-white focus:ring-2 focus:ring-white/30"}):s.heading}),e.jsx("div",{className:"space-y-3 text-white/80",children:n?e.jsx("textarea",{value:s.body,onChange:t=>r("body",t.target.value),rows:8,className:"w-full rounded-2xl border border-white/20 bg-black/40 px-3 py-2 text-white placeholder:text-white/40 focus:border-white focus:ring-2 focus:ring-white/30"}):(s.body||"").split(`
`).map(t=>t.trim()).filter(Boolean).map(t=>e.jsx("p",{children:N(t)},t))})]}),e.jsx("div",{className:"overflow-hidden rounded-3xl border border-white/10 bg-white/5 shadow-2xl fade-in-up",style:{animationDelay:"0.1s"},children:g?e.jsx("img",{src:g,alt:s.label,className:"aspect-[4/3] w-full object-cover",loading:"lazy"}):e.jsx("div",{className:"flex aspect-[4/3] items-center justify-center text-white/50",children:"Nav attÄ“la"})})]}),n&&e.jsxs("section",{className:"mt-8 space-y-4 rounded-3xl border border-white/10 bg-white/5 p-6 shadow-2xl",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/60",children:"Galvenais attÄ“ls (URL)"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("input",{type:"url",value:s.hero_image,onChange:t=>{h(""),r("hero_file",null),r("hero_image",t.target.value)},placeholder:"https://...",className:"min-w-0 flex-1 rounded-2xl border border-white/20 bg-black/40 px-3 py-2 text-white placeholder:text-white/40 focus:border-white focus:ring-2 focus:ring-white/30"}),e.jsxs("label",{className:"flex cursor-pointer items-center gap-2 rounded-full border border-white/30 px-4 py-2 text-xs font-semibold uppercase tracking-[0.18em] transition hover:border-white hover:bg-white/10",children:[e.jsx("span",{className:"text-base",children:"+"}),"AugÅ¡upielÄdÄ“t",e.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:t=>C(t.target.files||[])})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/60",children:"Papildu attÄ“li (URL)"}),e.jsx("div",{className:"flex flex-wrap gap-3",children:(s.images||[]).map(t=>e.jsxs("div",{className:"group relative w-32 overflow-hidden rounded-xl border border-white/15 bg-black/40",children:[e.jsx("img",{src:t,alt:"",className:"aspect-square w-full object-cover"}),e.jsx("button",{type:"button",onClick:()=>_(t),className:"absolute right-2 top-2 rounded-full bg-red-600 px-2 py-1 text-xs font-semibold text-white opacity-0 transition group-hover:opacity-100",children:"ğŸ—‘"})]},t))}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("input",{type:"url",value:s.newImage,onChange:t=>r("newImage",t.target.value),placeholder:"https://...",className:"min-w-0 flex-1 rounded-2xl border border-white/20 bg-black/40 px-3 py-2 text-white placeholder:text-white/40 focus:border-white focus:ring-2 focus:ring-white/30"}),e.jsxs("label",{className:"flex cursor-pointer items-center gap-2 rounded-full border border-white/30 px-4 py-2 text-xs font-semibold uppercase tracking-[0.18em] transition hover:border-white hover:bg-white/10",children:[e.jsx("span",{className:"text-base",children:"+"}),"AugÅ¡upielÄdÄ“t",e.jsx("input",{type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:t=>A(t.target.files||[])})]}),e.jsxs("button",{type:"button",onClick:k,className:"flex items-center gap-2 rounded-full border border-white/30 px-4 py-2 text-xs font-semibold uppercase tracking-[0.18em] transition hover:border-white hover:bg-white/10",children:[e.jsx("span",{className:"text-base",children:"+"}),"Pievienot"]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{type:"button",onClick:y,disabled:j,className:"rounded-full bg-white px-5 py-2 text-sm font-semibold text-black transition hover:bg-white/90 disabled:opacity-60",children:"SaglabÄt"}),e.jsx("button",{type:"button",onClick:()=>u(!1),className:"rounded-full border border-white/30 px-5 py-2 text-sm font-semibold transition hover:border-white hover:bg-white/10",children:"Atcelt"})]})]}),!n&&s.images&&s.images.length>0&&e.jsx("section",{className:"mt-10 grid grid-cols-1 gap-6 sm:grid-cols-2",children:s.images.map(t=>e.jsx("div",{className:"overflow-hidden rounded-2xl border border-white/10 bg-white/5 shadow-xl",children:e.jsx("img",{src:t,alt:"",className:"aspect-[4/3] w-full object-cover"})},t))}),e.jsxs("div",{className:"mt-10 flex flex-wrap gap-3",children:[e.jsx(l,{href:route("services"),className:"rounded-full border border-white/30 px-4 py-2 text-sm font-semibold transition hover:border-white hover:bg-white/10",children:"AtpakaÄ¼ uz pakalpojumiem"}),e.jsx(l,{href:route("contact"),className:"rounded-full bg-white px-4 py-2 text-sm font-semibold text-black transition hover:bg-white/90",children:"SazinÄties"})]}),e.jsx("footer",{className:"mt-10 text-xs text-white/50",children:"Â© 2025 Barocco Art. AtvÄ“rta apskate visiem apmeklÄ“tÄjiem."})]})})]})}export{U as default};
