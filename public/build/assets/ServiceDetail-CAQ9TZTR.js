import{a as C,r as c,u as S,j as e,H as I,L as i}from"./app-BWI9fvw-.js";function L({service:a}){const{auth:h}=C().props,f=h?.user?.is_owner,[x,m]=c.useState([]),[o,d]=c.useState(""),[n,p]=c.useState(!1),{data:s,setData:r,patch:w,processing:j,recentlySuccessful:v}=S({label:a.label,heading:a.heading,body:Array.isArray(a.body)?a.body.join(`
`):a.body||"",hero_image:a.hero_image||"",images:Array.isArray(a.images)?[...a.images]:[],newImage:"",uploadFiles:[],hero_file:null}),u=c.useMemo(()=>{const t=[...s.images||[]];return o&&t.unshift(o),[...t,...x]},[s.images,x,o]),N=()=>{w(route("service.update",a.slug),{preserveScroll:!0,onSuccess:()=>{p(!1),m([]),d("")},forceFormData:!0})},g=c.useMemo(()=>o||(s.hero_image?s.hero_image:u.length?u[0]:""),[s.hero_image,u,o]),y=()=>{s.newImage.trim()&&(r("images",[...s.images||[],s.newImage.trim()]),r("newImage",""))},k=t=>{t===o&&(d(""),r("hero_file",null)),r("images",(s.images||[]).filter(l=>l!==t&&!t.startsWith("blob:"))),m(l=>l.filter(b=>b!==t)),t.startsWith("blob:")&&r("uploadFiles",[])},_=t=>{if(!t||!t.length)return;const l=Array.from(t);r("uploadFiles",[...s.uploadFiles||[],...l]),m([...x,...l.map(b=>URL.createObjectURL(b))])},A=t=>{if(!t||!t.length)return;const l=t[0];r("hero_file",l),d(URL.createObjectURL(l))};return e.jsxs(e.Fragment,{children:[e.jsx(I,{title:a.label}),e.jsx("div",{className:"min-h-screen bg-[#050505] text-white",children:e.jsxs("div",{className:"mx-auto flex max-w-6xl flex-col px-6 pb-16 md:pb-24",children:[e.jsxs("header",{className:"flex items-center justify-between py-6",children:[e.jsx(i,{href:"/",className:"text-lg font-semibold tracking-tight hover:text-white",children:"Barocco Art"}),e.jsxs("nav",{className:"flex items-center gap-4 text-sm text-white/80 md:gap-8",children:[e.jsx(i,{href:`${route("services")}#celtnieciba`,className:"transition hover:text-white",children:"CeltniecÄ«ba"}),e.jsx(i,{href:`${route("services")}#projektesana`,className:"transition hover:text-white",children:"ProjektÄ“Å¡ana"}),e.jsx(i,{href:`${route("services")}#interjera-dizains`,className:"transition hover:text-white",children:"Interjera dizains"}),e.jsx(i,{href:`${route("services")}#mebeles`,className:"transition hover:text-white",children:"MÄ“beles"}),e.jsx(i,{href:route("contact"),className:"transition hover:text-white",children:"Kontakti"}),!h?.user&&e.jsx(i,{href:route("login"),className:"rounded-full border border-white/30 px-4 py-1.5 text-xs font-semibold uppercase tracking-[0.18em] transition hover:border-white hover:bg-white/10",children:"Owner Login"}),h?.user&&e.jsx(i,{href:route("logout"),method:"post",as:"button",className:"rounded-full border border-white/30 px-4 py-1.5 text-xs font-semibold uppercase tracking-[0.18em] transition hover:border-white hover:bg-white/10",children:"IzrakstÄ«ties"})]})]}),e.jsxs("section",{className:"grid gap-8 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-4 fade-in-up",children:[f&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{type:"button",onClick:()=>p(t=>!t),className:"rounded-full border border-white/30 px-3 py-1.5 text-xs font-semibold uppercase tracking-[0.18em] transition hover:border-white hover:bg-white/10",children:n?"AizvÄ“rt":"RediÄ£Ä“t"}),v&&e.jsx("span",{className:"text-xs text-green-300",children:"SaglabÄts"})]}),e.jsx("p",{className:"text-sm uppercase tracking-[0.2em] text-white/60",children:n?e.jsx("input",{type:"text",value:s.label,onChange:t=>r("label",t.target.value),className:"w-full rounded-2xl border border-white/20 bg-black/40 px-3 py-2 text-white placeholder:text-white/40 focus:border-white focus:ring-2 focus:ring-white/30"}):s.label}),e.jsx("h1",{className:"text-3xl font-semibold md:text-4xl",children:n?e.jsx("input",{type:"text",value:s.heading,onChange:t=>r("heading",t.target.value),className:"w-full rounded-2xl border border-white/20 bg-black/40 px-3 py-2 text-white placeholder:text-white/40 focus:border-white focus:ring-2 focus:ring-white/30"}):s.heading}),e.jsx("div",{className:"space-y-3 text-white/80",children:n?e.jsx("textarea",{value:s.body,onChange:t=>r("body",t.target.value),rows:8,className:"w-full rounded-2xl border border-white/20 bg-black/40 px-3 py-2 text-white placeholder:text-white/40 focus:border-white focus:ring-2 focus:ring-white/30"}):(s.body||"").split(`
`).map(t=>t.trim()).filter(Boolean).map(t=>e.jsx("p",{children:t},t))})]}),e.jsx("div",{className:"overflow-hidden rounded-3xl border border-white/10 bg-white/5 shadow-2xl fade-in-up",style:{animationDelay:"0.1s"},children:g?e.jsx("img",{src:g,alt:s.label,className:"aspect-[4/3] w-full object-cover",loading:"lazy"}):e.jsx("div",{className:"flex aspect-[4/3] items-center justify-center text-white/50",children:"Nav attÄ“la"})})]}),n&&e.jsxs("section",{className:"mt-8 space-y-4 rounded-3xl border border-white/10 bg-white/5 p-6 shadow-2xl",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/60",children:"Galvenais attÄ“ls (URL)"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("input",{type:"url",value:s.hero_image,onChange:t=>{d(""),r("hero_file",null),r("hero_image",t.target.value)},placeholder:"https://...",className:"min-w-0 flex-1 rounded-2xl border border-white/20 bg-black/40 px-3 py-2 text-white placeholder:text-white/40 focus:border-white focus:ring-2 focus:ring-white/30"}),e.jsxs("label",{className:"flex cursor-pointer items-center gap-2 rounded-full border border-white/30 px-4 py-2 text-xs font-semibold uppercase tracking-[0.18em] transition hover:border-white hover:bg-white/10",children:[e.jsx("span",{className:"text-base",children:"+"}),"AugÅ¡upielÄdÄ“t",e.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:t=>A(t.target.files||[])})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs uppercase tracking-[0.2em] text-white/60",children:"Papildu attÄ“li (URL)"}),e.jsx("div",{className:"flex flex-wrap gap-3",children:(s.images||[]).map(t=>e.jsxs("div",{className:"group relative w-32 overflow-hidden rounded-xl border border-white/15 bg-black/40",children:[e.jsx("img",{src:t,alt:"",className:"aspect-square w-full object-cover"}),e.jsx("button",{type:"button",onClick:()=>k(t),className:"absolute right-2 top-2 rounded-full bg-red-600 px-2 py-1 text-xs font-semibold text-white opacity-0 transition group-hover:opacity-100",children:"ğŸ—‘"})]},t))}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("input",{type:"url",value:s.newImage,onChange:t=>r("newImage",t.target.value),placeholder:"https://...",className:"min-w-0 flex-1 rounded-2xl border border-white/20 bg-black/40 px-3 py-2 text-white placeholder:text-white/40 focus:border-white focus:ring-2 focus:ring-white/30"}),e.jsxs("label",{className:"flex cursor-pointer items-center gap-2 rounded-full border border-white/30 px-4 py-2 text-xs font-semibold uppercase tracking-[0.18em] transition hover:border-white hover:bg-white/10",children:[e.jsx("span",{className:"text-base",children:"+"}),"AugÅ¡upielÄdÄ“t",e.jsx("input",{type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:t=>_(t.target.files||[])})]}),e.jsxs("button",{type:"button",onClick:y,className:"flex items-center gap-2 rounded-full border border-white/30 px-4 py-2 text-xs font-semibold uppercase tracking-[0.18em] transition hover:border-white hover:bg-white/10",children:[e.jsx("span",{className:"text-base",children:"+"}),"Pievienot"]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{type:"button",onClick:N,disabled:j,className:"rounded-full bg-white px-5 py-2 text-sm font-semibold text-black transition hover:bg-white/90 disabled:opacity-60",children:"SaglabÄt"}),e.jsx("button",{type:"button",onClick:()=>p(!1),className:"rounded-full border border-white/30 px-5 py-2 text-sm font-semibold transition hover:border-white hover:bg-white/10",children:"Atcelt"})]})]}),!n&&s.images&&s.images.length>0&&e.jsx("section",{className:"mt-10 grid grid-cols-1 gap-6 sm:grid-cols-2",children:s.images.map(t=>e.jsx("div",{className:"overflow-hidden rounded-2xl border border-white/10 bg-white/5 shadow-xl",children:e.jsx("img",{src:t,alt:"",className:"aspect-[4/3] w-full object-cover"})},t))}),e.jsxs("div",{className:"mt-10 flex flex-wrap gap-3",children:[e.jsx(i,{href:route("services"),className:"rounded-full border border-white/30 px-4 py-2 text-sm font-semibold transition hover:border-white hover:bg-white/10",children:"AtpakaÄ¼ uz pakalpojumiem"}),e.jsx(i,{href:route("contact"),className:"rounded-full bg-white px-4 py-2 text-sm font-semibold text-black transition hover:bg-white/90",children:"SazinÄties"})]}),e.jsx("footer",{className:"mt-10 text-xs text-white/50",children:"Â© 2025 Barocco Art. AtvÄ“rta apskate visiem apmeklÄ“tÄjiem."})]})})]})}export{L as default};
